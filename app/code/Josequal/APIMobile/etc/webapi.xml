<?xml version="1.0"?>
<routes xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="urn:magento:module:Magento_Webapi:etc/webapi.xsd">

    <!-- Authentication -->
    <route url="/V1/mobile/signup" method="POST">
        <service class="Josequal\APIMobile\Api\V1\AuthenticationInterface" method="signUp"/>
        <resources>
            <resource ref="anonymous"/>
        </resources>
    </route>

    <route url="/V1/mobile/login" method="POST">
        <service class="Josequal\APIMobile\Api\V1\AuthenticationInterface" method="signIn"/>
        <resources>
            <resource ref="anonymous"/>
        </resources>
    </route>

    <route url="/V1/mobile/logout" method="POST">
        <service class="Josequal\APIMobile\Api\V1\AuthenticationInterface" method="logOut"/>
        <resources>
            <resource ref="anonymous"/>
        </resources>
    </route>

    <!-- Profile -->
    <route url="/V1/user/profile" method="GET">
        <service class="Josequal\APIMobile\Api\V1\ProfileInterface" method="getProfile"/>
        <resources>
            <resource ref="anonymous"/>
        </resources>
    </route>

    <route url="/V1/user/update-profile" method="POST">
        <service class="Josequal\APIMobile\Api\V1\ProfileInterface" method="updateProfile"/>
        <resources>
            <resource ref="anonymous"/>
        </resources>
        <data>
            <parameter name="firstname" force="false">%firstname%</parameter>
            <parameter name="lastname" force="false">%lastname%</parameter>
            <parameter name="mobileNumber" force="false">%mobileNumber%</parameter>
            <parameter name="dialCode" force="false">%dialCode%</parameter>
            <parameter name="countryCode" force="false">%countryCode%</parameter>
        </data>
    </route>

    <!-- Password APIs -->
    <route url="/V1/user/update-password" method="POST">
        <service class="Josequal\APIMobile\Api\V1\PasswordInterface" method="updatePassword"/>
        <resources>
            <resource ref="self"/>
        </resources>
    </route>

    <route url="/V1/user/forget-password" method="POST">
        <service class="Josequal\APIMobile\Api\V1\PasswordInterface" method="forgetPassword"/>
        <resources>
            <resource ref="anonymous"/>
        </resources>
    </route>

    <route url="/V1/user/verify-otp" method="POST">
        <service class="Josequal\APIMobile\Api\V1\PasswordInterface" method="verifyOtp"/>
        <resources>
            <resource ref="anonymous"/>
        </resources>
        <data>
            <parameter name="otp" force="false">%otp%</parameter>
            <parameter name="emailOrPhone" force="false">%emailOrPhone%</parameter>
        </data>
    </route>

    <route url="/V1/user/reset-password" method="POST">
        <service class="Josequal\APIMobile\Api\V1\PasswordInterface" method="resetPassword"/>
        <resources>
            <resource ref="anonymous"/>
        </resources>
        <data>
            <parameter name="newPassword" force="false">%newPassword%</parameter>
            <parameter name="confirmPassword" force="false">%confirmPassword%</parameter>
            <parameter name="emailOrPhone" force="false">%emailOrPhone%</parameter>
        </data>
    </route>

    <!-- Account Deletion APIs -->
    <route url="/V1/user/request-account-deletion" method="POST">
        <service class="Josequal\APIMobile\Model\AccountDeletion" method="requestAccountDeletion"/>
        <resources>
            <resource ref="anonymous"/>
        </resources>
    </route>

    <route url="/V1/user/cancel-account-deletion" method="POST">
        <service class="Josequal\APIMobile\Model\AccountDeletion" method="cancelAccountDeletion"/>
        <resources>
            <resource ref="anonymous"/>
        </resources>
    </route>

    <route url="/V1/user/account-deletion-status" method="GET">
        <service class="Josequal\APIMobile\Model\AccountDeletion" method="getDeletionStatus"/>
        <resources>
            <resource ref="anonymous"/>
        </resources>
    </route>

    <!-- Cart APIs -->
    <route url="/apimobile/cart/add" method="POST">
        <service class="Josequal\APIMobile\Controller\Cart\Add" method="execute"/>
        <resources>
            <resource ref="self"/>
        </resources>
    </route>

    <route url="/apimobile/cart/info" method="GET">
        <service class="Josequal\APIMobile\Controller\Cart\Info" method="execute"/>
        <resources>
            <resource ref="self"/>
        </resources>
    </route>

    <route url="/apimobile/cart/update" method="POST">
        <service class="Josequal\APIMobile\Controller\Cart\Update" method="execute"/>
        <resources>
            <resource ref="self"/>
        </resources>
    </route>

    <route url="/apimobile/cart/delete" method="POST">
        <service class="Josequal\APIMobile\Controller\Cart\Delete" method="execute"/>
        <resources>
            <resource ref="self"/>
        </resources>
    </route>

    <route url="/apimobile/cart/clear" method="POST">
        <service class="Josequal\APIMobile\Controller\Cart\Clear" method="execute"/>
        <resources>
            <resource ref="self"/>
        </resources>
    </route>

    <!-- Points APIs -->
    <route url="/apimobile/cart/points" method="GET">
        <service class="Josequal\APIMobile\Controller\Cart\Points" method="execute"/>
        <resources>
            <resource ref="self"/>
        </resources>
    </route>

    <route url="/apimobile/cart/apply-points" method="POST">
        <service class="Josequal\APIMobile\Controller\Cart\ApplyPoints" method="execute"/>
        <resources>
            <resource ref="self"/>
        </resources>
    </route>

    <route url="/apimobile/cart/points-reminder" method="POST">
        <service class="Josequal\APIMobile\Controller\Cart\PointsReminder" method="execute"/>
        <resources>
            <resource ref="anonymous"/>
        </resources>
    </route>

    <!-- Test Points API -->
    <route url="/apimobile/cart/test-points" method="GET">
        <service class="Josequal\APIMobile\Controller\Cart\TestPoints" method="execute"/>
        <resources>
            <resource ref="anonymous"/>
        </resources>
    </route>

    <!-- Product APIs -->
    <route url="/apimobile/product/latest" method="GET">
        <service class="Josequal\APIMobile\Controller\Product\Latest" method="execute"/>
        <resources>
            <resource ref="anonymous"/>
        </resources>
    </route>

    <route url="/apimobile/product/search" method="GET">
        <service class="Josequal\APIMobile\Controller\Product\Search" method="execute"/>
        <resources>
            <resource ref="anonymous"/>
        </resources>
    </route>

    <route url="/apimobile/category/products" method="GET">
        <service class="Josequal\APIMobile\Controller\Category\Products" method="execute"/>
        <resources>
            <resource ref="anonymous"/>
        </resources>
    </route>

    <!-- Search Suggestions APIs -->
    <route url="/apimobile/product/search-suggestions" method="GET">
        <service class="Josequal\APIMobile\Controller\Product\SearchSuggestions" method="execute"/>
        <resources>
            <resource ref="anonymous"/>
        </resources>
    </route>

    <route url="/apimobile/product/save-search" method="POST">
        <service class="Josequal\APIMobile\Controller\Product\SaveSearch" method="execute"/>
        <resources>
            <resource ref="anonymous"/>
        </resources>
    </route>

</routes>
