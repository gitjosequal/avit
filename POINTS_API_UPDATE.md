# ุชุญุฏูุซ API ุงูููุงุท - ุฅุถุงูุฉ ุตูุฑุฉ ุงูุนููู

## ๐ฏ ุงูุชุญุฏูุซ ุงููุทููุจ
ุชู ุฅุถุงูุฉ ุตูุฑุฉ ุงูุนููู ุฅูู API ุงูููุงุท ููุนุทู ูุนูููุงุช ุฃูุซุฑ ุชูุตููุงู ุนู ุงูุนููู.

## ๐ ุงูุชุบููุฑุงุช ุงููุทุจูุฉ

### 1. ุชุญุฏูุซ ุฏุงูุฉ `getCustomerPoints()`
- ุชู ุฅุถุงูุฉ ุงุณุชุฏุนุงุก `getCustomerProfileImage()` ููุญุตูู ุนูู ุตูุฑุฉ ุงูุนููู
- ุชู ุฅุถุงูุฉ ุญูู `customer_image` ูู ุงูู response

### 2. ุฅุถุงูุฉ ุฏุงูุฉ ุฌุฏูุฏุฉ `getCustomerProfileImage()`
```php
private function getCustomerProfileImage($customer) {
    // ุงูุจุญุซ ุนู ุตูุฑุฉ ุงูุนููู ูู ุนุฏุฉ ุฃูุงูู
    // 1. profile_image attribute
    // 2. avatar attribute  
    // 3. custom attributes
    // 4. default image ุฅุฐุง ูู ุชูุฌุฏ ุตูุฑุฉ
}
```

## ๐ ููุทู ุงูุจุญุซ ุนู ุงูุตูุฑุฉ

### ุงููุฑุญูุฉ ุงูุฃููู: ุงูุจุญุซ ูู Customer Model
- `profile_image` - ุตูุฑุฉ ุงูููู ุงูุดุฎุตู ุงููุฎุตุตุฉ
- `avatar` - ุตูุฑุฉ ุงูุตูุฑุฉ ุงูุฑูุฒูุฉ

### ุงููุฑุญูุฉ ุงูุซุงููุฉ: ุงูุจุญุซ ูู Custom Attributes
- ุงูุจุญุซ ูู `profile_image` custom attribute
- ุงูุจุญุซ ูู `avatar` custom attribute

### ุงููุฑุญูุฉ ุงูุซุงูุซุฉ: ุงูุตูุฑุฉ ุงูุงูุชุฑุงุถูุฉ
- ุฅุฐุง ูู ุชูุฌุฏ ุตูุฑุฉุ ูุชู ุฅุฑุฌุงุน ุงูุตูุฑุฉ ุงูุงูุชุฑุงุถูุฉ: `{base_url}/media/default_profile.png`

## ๐ฑ ูุซุงู ุนูู ุงูุงุณุชุฌุงุจุฉ ุงูุฌุฏูุฏุฉ

### API Call:
```bash
GET /apimobile/cart/points
Authorization: Bearer YOUR_TOKEN
```

### Response:
```json
{
    "status": true,
    "message": "Points Total",
    "data": {
        "points": 1250,
        "customer_name": "ุฃุญูุฏ ูุญูุฏ",
        "customer_image": "https://avit.josequal.net/media/customer/profile/ahmed_profile.jpg",
        "loyalty_level": "Gold",
        "next_level_points": 3000,
        "points_to_next_level": 1750,
        "progress_percentage": 42,
        "points_history": [
            {
                "points": "+100",
                "action": "Online Order",
                "description": "Order #12345",
                "date": "08/09/2025 โข 14:30",
                "icon": "shopping_cart"
            }
        ],
        "system_type": "custom"
    }
}
```

## ๐จ ุฃููุงุน ุงูุตูุฑ ุงููุฏุนููุฉ

### 1. ุตูุฑ ูุฎุตุตุฉ
- ูููู ููุนููุงุก ุฑูุน ุตูุฑ ุดุฎุตูุฉ ูุฎุตุตุฉ
- ูุชู ุญูุธูุง ูู `/media/customer/profile/`

### 2. ุตูุฑ ูู ูุตุงุฏุฑ ุฎุงุฑุฌูุฉ
- URLs ูุงููุฉ ููุตูุฑ ูู ุฎุฏูุงุช ุฃุฎุฑู
- ูุชู ุงูุชุญูู ูู ุจุฏุงูุฉ ุงูุฑุงุจุท ุจู `http`

### 3. ุงูุตูุฑุฉ ุงูุงูุชุฑุงุถูุฉ
- ุตูุฑุฉ ุงูุชุฑุงุถูุฉ ูุฌููุน ุงูุนููุงุก
- ูุณุงุฑ: `/media/default_profile.png`

## ๐ง ุฅุนุฏุงุฏุงุช ุฅุถุงููุฉ ูุทููุจุฉ

### 1. ุฅูุดุงุก ูุฌูุฏ ุงูุตูุฑ
```bash
mkdir -p pub/media/customer/profile
mkdir -p pub/media/customer/avatar
```

### 2. ุฑูุน ุงูุตูุฑุฉ ุงูุงูุชุฑุงุถูุฉ
- ุฑูุน ุตูุฑุฉ `default_profile.png` ุฅูู `/pub/media/`

### 3. ุฅุนุฏุงุฏุงุช ุงูุตูุงุญูุงุช
```bash
chmod 755 pub/media/customer/
chmod 644 pub/media/default_profile.png
```

## ๐ ููููุฉ ุงูุงุฎุชุจุงุฑ

### 1. ุงุฎุชุจุงุฑ ุงูุนููู ุจุฏูู ุตูุฑุฉ
```bash
curl -X GET "https://avit.josequal.net/apimobile/cart/points" \
  -H "Authorization: Bearer YOUR_TOKEN"
```

### 2. ุงุฎุชุจุงุฑ ุงูุนููู ูุน ุตูุฑุฉ ูุฎุตุตุฉ
- ุฑูุน ุตูุฑุฉ ููุนููู
- ุงุฎุชุจุงุฑ API ูุฑุฉ ุฃุฎุฑู

## ๐ ุงูููุงุฆุฏ

### 1. ุชุฌุฑุจุฉ ูุณุชุฎุฏู ูุญุณูุฉ
- ุนุฑุถ ุตูุฑุฉ ุงูุนููู ูู ุตูุญุฉ ุงูููุงุท
- ูุธูุฑ ุฃูุซุฑ ุดุฎุตูุฉ

### 2. ูุนูููุงุช ุดุงููุฉ
- ุงุณู ุงูุนููู + ุตูุฑุชู
- ุชุฌุฑุจุฉ ูุชูุงููุฉ

### 3. ูุฑููุฉ ูู ุงููุตุงุฏุฑ
- ุฏุนู ุตูุฑ ูุชุนุฏุฏุฉ ุงููุตุงุฏุฑ
- fallback ููุตูุฑุฉ ุงูุงูุชุฑุงุถูุฉ

## โ๏ธ ููุงุญุธุงุช ูููุฉ

### 1. ุงูุฃูุงู
- ุงูุชุญูู ูู ุตุญุฉ ูุณุงุฑุงุช ุงูุตูุฑ
- ููุน ุงููุตูู ููููุงุช ุญุณุงุณุฉ

### 2. ุงูุฃุฏุงุก
- ุชุญุณูู ุชุญููู ุงูุตูุฑ
- ุถุบุท ุงูุตูุฑ ุนูุฏ ุงูุญุงุฌุฉ

### 3. ุงูุชูุงูู
- ูุนูู ูุน ุงููุธุงู ุงููุฎุตุต ู Amasty Rewards
- ูุง ูุคุซุฑ ุนูู APIs ุฃุฎุฑู

---

**ุชุงุฑูุฎ ุงูุชุญุฏูุซ:** 9 ููุงูุฑ 2025  
**ุงููุทูุฑ:** AI Assistant  
**ุงูุญุงูุฉ:** โ ููุชูู
